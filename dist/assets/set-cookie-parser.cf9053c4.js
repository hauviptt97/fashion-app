var v={exports:{}},h={decodeValues:!0,map:!1,silent:!1};function d(e){return typeof e=="string"&&!!e.trim()}function m(e,a){var r=e.split(";").filter(d),s=r.shift(),t=g(s),f=t.name,l=t.value;a=a?Object.assign({},h,a):h;try{l=a.decodeValues?decodeURIComponent(l):l}catch(i){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+l+"'. Set options.decodeValues to false to disable this feature.",i)}var n={name:f,value:l};return r.forEach(function(i){var o=i.split("="),u=o.shift().trimLeft().toLowerCase(),c=o.join("=");u==="expires"?n.expires=new Date(c):u==="max-age"?n.maxAge=parseInt(c,10):u==="secure"?n.secure=!0:u==="httponly"?n.httpOnly=!0:u==="samesite"?n.sameSite=c:n[u]=c}),n}function g(e){var a="",r="",s=e.split("=");return s.length>1?(a=s.shift(),r=s.join("=")):r=e,{name:a,value:r}}function p(e,a){if(a=a?Object.assign({},h,a):h,!e)return a.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var r=e.headers[Object.keys(e.headers).find(function(t){return t.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!a.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),a=a?Object.assign({},h,a):h,a.map){var s={};return e.filter(d).reduce(function(t,f){var l=m(f,a);return t[l.name]=l,t},s)}else return e.filter(d).map(function(t){return m(t,a)})}function y(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var a=[],r=0,s,t,f,l,n;function i(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function o(){return t=e.charAt(r),t!=="="&&t!==";"&&t!==","}for(;r<e.length;){for(s=r,n=!1;i();)if(t=e.charAt(r),t===","){for(f=r,r+=1,i(),l=r;r<e.length&&o();)r+=1;r<e.length&&e.charAt(r)==="="?(n=!0,r=l,a.push(e.substring(s,f)),s=r):r=f+1}else r+=1;(!n||r>=e.length)&&a.push(e.substring(s,e.length))}return a}v.exports=p;v.exports.parse=p;v.exports.parseString=m;v.exports.splitCookiesString=y;export{v as s};
