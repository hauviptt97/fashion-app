var u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,_=(e,r)=>{for(var t in r)u(e,t,{get:r[t],enumerable:!0})},v=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of j(r))!O.call(e,n)&&n!==t&&u(e,n,{get:()=>r[n],enumerable:!(s=b(r,n))||s.enumerable});return e},g=e=>v(u({},"__esModule",{value:!0}),e),p={};_(p,{Headers:()=>c,flattenHeadersList:()=>L,flattenHeadersObject:()=>z,headersToList:()=>y,headersToObject:()=>P,headersToString:()=>E,listToHeaders:()=>S,objectToHeaders:()=>N,reduceHeadersObject:()=>d,stringToHeaders:()=>T});var D=g(p),m=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function i(e){if(typeof e!="string"&&(e=String(e)),m.test(e)||e.trim()==="")throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function w(e){return typeof e!="string"&&(e=String(e)),e}var o=Symbol("normalizedHeaders"),l=Symbol("rawHeaderNames"),f,h,c=class{constructor(e){this[f]={},this[h]=new Map,["Headers","HeadersPolyfill"].includes(e==null?void 0:e.constructor.name)||e instanceof c?e.forEach((t,s)=>{this.append(s,t)},this):Array.isArray(e)?e.forEach(([r,t])=>{this.append(r,Array.isArray(t)?t.join(", "):t)}):e&&Object.getOwnPropertyNames(e).forEach(r=>{const t=e[r];this.append(r,Array.isArray(t)?t.join(", "):t)})}[(f=o,h=l,Symbol.iterator)](){return this.entries()}*keys(){for(const e of Object.keys(this[o]))yield e}*values(){for(const e of Object.values(this[o]))yield e}*entries(){for(const e of Object.keys(this[o]))yield[e,this.get(e)]}get(e){return this[o][i(e)]||null}set(e,r){const t=i(e);this[o][t]=w(r),this[l].set(t,e)}append(e,r){const t=i(e);let s=this.has(t)?`${this.get(t)}, ${r}`:r;this.set(e,s)}delete(e){if(!this.has(e))return;const r=i(e);delete this[o][r],this[l].delete(r)}all(){return this[o]}raw(){const e={};for(const[r,t]of this.entries())e[this[l].get(r)]=t;return e}has(e){return this[o].hasOwnProperty(i(e))}forEach(e,r){for(const t in this[o])this[o].hasOwnProperty(t)&&e.call(r,this[o][t],t,this)}};function y(e){const r=[];return e.forEach((t,s)=>{const n=t.includes(",")?t.split(",").map(a=>a.trim()):t;r.push([s,n])}),r}function E(e){return y(e).map(([s,n])=>{const a=[].concat(n);return`${s}: ${a.join(", ")}`}).join(`\r
`)}var A=["user-agent"];function P(e){const r={};return e.forEach((t,s)=>{const n=!A.includes(s.toLowerCase())&&t.includes(",");r[s]=n?t.split(",").map(a=>a.trim()):t}),r}function T(e){return e.trim().split(/[\r\n]+/).reduce((t,s)=>{if(s.trim()==="")return t;const n=s.split(": "),a=n.shift(),H=n.join(": ");return t.append(a,H),t},new c)}function S(e){const r=new c;return e.forEach(([t,s])=>{[].concat(s).forEach(a=>{r.append(t,a)})}),r}function d(e,r,t){return Object.keys(e).reduce((s,n)=>r(s,n,e[n]),t)}function N(e){return d(e,(r,t,s)=>([].concat(s).filter(Boolean).forEach(a=>{r.append(t,a)}),r),new c)}function L(e){return e.map(([r,t])=>[r,[].concat(t).join("; ")])}function z(e){return d(e,(r,t,s)=>(r[t]=[].concat(s).join("; "),r),{})}export{D as l};
